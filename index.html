<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Password Generator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel = "stylesheet" type = "text/css" href = "assets/style.css">
</head>
  <body>
<div  id = "mainID" class = "container">
    <header>
      <h1>Password Generator</h1>
    </header>
</div>
<div id = "center-container" class = "container">    
<div class = "row">
    <div class = "col-xs-12">
    <h2 id = "generate-head" style = "font-size: 25px;">Generate a Password</h2>
    </div>
</div>
<div class = "row">
        <div class = "col-xl-12">
            <div style="border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd;">
    <textarea class="form-group"
      readonly
      id="password"
      placeholder="Your Secure Password"
      aria-label="Generated Password"
    ></textarea>
        </div>
    </div>
</div>

<div class = "row">
    <div class = "col-xs-12 col-sm-4">
    <button id="generate" class = "btn rounded-left rounded-right" onclick="passGen()">Generate Password</button>
    </div>
    
    <div class = "col-xs-12 col-sm-4"></div>
    
    <div class = "col-xs-12 col-sm-4">
    <button id="copy" class = "btn rounded-left rounded-right" onclick="copyFunction()">
      Copy to Clipboard
    </button>
    </div>
</div>
</div>
  </body>
</html>
    <script>
        //This function creates the password, and the initial section initializes variables and determines length
        function passGen(){
            var specialChars = ["!","@","#","$","%","^","&","*","(",")","-","_","+","-", "|", "'"];
            var lowercaseChars = ["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];
            var uppercaseChars = ["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];
            var ints = ["1","2","3","4","5","6","7","8","9","10"];
            var output = "";
            var passLength = prompt("How long should the password be? Must be an integer between 8 and 128");
             if (Number.isInteger(+passLength) == false || passLength < 8 || passLength > 128){
                alert("Your input did not fit the specified parameters.");
                location.reload();
            }
             else{
                // this scope checks if charchoices > 2 before continuing

            let lowercaseBool = confirm("Should the password include lowercase characters?");
            let uppercaseBool = confirm("Should the password include uppercase characters?");
            let numBool = confirm("Should the password include numbers?");
            let specialBool = confirm("Should the password contain special characters?");
                let charChoices = 0;
                if (lowercaseBool == true){
                    charChoices++;
                }

                if (uppercaseBool == true){
                    charChoices++;
                }
                if (numBool == true){
                    charChoices++;
                }
                if (specialBool == true){
                    charChoices++;
                }
                if (charChoices < 2){
                    alert("You must choose at least two character types. Please begin again.");
                    location.reload()
                }
                // This scope generates the user password
                else {

                   let validArray = [];
                   var passArray = [];
                    if (lowercaseBool == true){
                       for (let i = 0; i<lowercaseChars.length; i++){
                      
                       validArray.push(lowercaseChars[i]);
                    
                       }
                   }
                   if (uppercaseBool == true){
                    for (let i = 0; i<uppercaseChars.length; i++){
                       
                       validArray.push(uppercaseChars[i]);
                   
                    }
                   }
                   if (numBool == true){
                    for (let i = 0; i<ints.length; i++) {
                       
                       validArray.push(ints[i]);
                   
                        }
                   }
                   if (specialBool == true){
                    for (let i = 0; i<specialChars.length; i++) {
                       
                       validArray.push(specialChars[i]);
                        
                        }
                   }
                   console.log(validArray);
                   
                   //this uses RNG to pick a random character from the array of valid characters and add it to the password array
                   for (let i = 0; i < passLength; i++){
                       let indCeiling = Math.ceil(validArray.length);
                       let indFloor = Math.floor(0);
                       let index = Math.floor(Math.random() * (indCeiling - indFloor)) + indFloor;
                       passArray.push(validArray[index]);
                   }
                   //this turns the array into a string
                   for (let i = 0; i<passArray.length; i++){
                       output += passArray[i];
                   }
                   //copy code
                   console.log(output);
                   document.getElementById("password").value = output;
                   document.getElementById("password").placeholder = output;
                   return output;
                }
                
            }
                
        }

        function copyFunction() {
            let toCopy = document.getElementById("password");
            toCopy.select();
            document.execCommand("copy");
        }
        
        </script>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>